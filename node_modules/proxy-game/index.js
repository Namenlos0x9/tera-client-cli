if(process.platform !== 'win32') throw Error('WinDivert must be run on a Windows system')

const fs = require('fs')

for(let file of [
	`${__dirname}/build/Release/proxygame.node`,
	`${__dirname}/bin/${process.arch}/proxygame_${process.versions.modules}.node`
])
	if(fs.existsSync(file)) {
		module.exports = require(file)
		return
	}

throw Error(`proxy-game: No build found (modulesVer=${process.versions.modules}, arch=${process.arch}, platform=${process.platform})`)